!function(){var t={5229:function(t,r,n){var e=n(7841);t.exports={name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(t){var r,n,e,o,a=t[0],i=t[1],u=t[2];return a<=8?o=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),o=Math.pow(n/100,1/3)),[r=r/95.047<=.008856?r=95.047*(i/500+o-16/116)/7.787:95.047*Math.pow(i/500+o,3),n,e=e/108.883<=.008859?e=108.883*(o-u/200-16/116)/7.787:108.883*Math.pow(o-u/200,3)]}},e.lab=function(t){var r=t[0],n=t[1],e=t[2];return n/=100,e/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116))]}},2409:function(t){t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},7841:function(t,r,n){var e=n(2409),o={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};o.max=o.whitepoint[2].D65,o.rgb=function(t,r){r=r||o.whitepoint[2].E;var n,e,a,i=t[0]/r[0],u=t[1]/r[1],f=t[2]/r[2];return e=-.96924363628087*i+1.87596750150772*u+.041555057407175*f,a=.055630079696993*i+-.20397695888897*u+1.056971514242878*f,n=(n=3.240969941904521*i+-1.537383177570093*u+-.498610760293*f)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(e=Math.min(Math.max(0,e),1)),255*(a=Math.min(Math.max(0,a),1))]},e.xyz=function(t,r){var n=t[0]/255,e=t[1]/255,a=t[2]/255,i=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.072192315360733*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92),u=.019330818715591*n+.11919477979462*e+.95053215224966*a;return[(.41239079926595*n+.35758433938387*e+.18048078840183*a)*(r=r||o.whitepoint[2].E)[0],i*r[1],u*r[2]]},t.exports=o},9847:function(t){t.exports=function(t){function r(t,r,n,e){function o(r){"function"!=typeof self.postMessage?t.ports[0].postMessage(r):self.postMessage(r)}n?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),o([r,{message:n.message}])):o([r,null,e])}self.addEventListener("message",(function(n){var e=n.data;if(Array.isArray(e)&&2===e.length){var o=e[0],a=e[1];"function"!=typeof t?r(n,o,new Error("Please pass a function into register().")):function(t,n,e,o){var a,i=function(t,r){try{return{res:t(r)}}catch(t){return{err:t}}}(n,o);i.err?r(t,e,i.err):!(a=i.res)||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then?r(t,e,null,i.res):i.res.then((function(n){r(t,e,null,n)}),(function(n){r(t,e,n)}))}(n,t,o,a)}}))}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,{a:r}),r},n.d=function(t,r){for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},function(){var t=n(2409),r=n(7841);n(5229);function e(t,r,n){var e=t[r++]-n[0],o=t[r++]-n[1],a=t[r++]-n[2],i=t[r++]-n[3];return Math.pow(e,2)+Math.pow(o,2)+Math.pow(a,2)+Math.pow(i,2)}function o(t,r){for(var n=[],e=0;e<r;e++)n.push(t);return n}var a=n(9847);n.n(a)()((n=>{const{img:a,k:i,iteration:u}=n;return function(t,r,n,a){void 0===a&&(a=1);for(var i,u,f,s,c,h=[],p=[],l=[],v=0,M=0;M<r;M++){var m=Math.floor(Math.random()*t.length);p.push(Array.from(t.slice(m,m+4))),l.push(o(0,4)),h.push(o(0,5))}for(;v<n;){for(var w=0;w<t.length;){for(var g=0,y=e(t,w,p[0]),x=1;x<r;x++){var d=e(t,w,p[x]);d<y&&(y=d,g=x)}var b=h[g];b[0]+=t[w++],b[1]+=t[w++],b[2]+=t[w++],b[3]+=t[w++],b[4]++}for(var D=0,A=0;A<r;A++){var z=h[A],E=z[4];if(0==E){var F=Math.floor(Math.random()*t.length);l[A]=Array.from(Array.from(t.slice(F,F+4))),D+=a}else{for(var j=l[A],O=0;O<4;O++)j[O]=z[O]/E;D+=Math.sqrt((f=(i=p[A])[1]-(u=l[A])[1],s=i[2]-u[2],c=i[3]-u[3],Math.pow(i[0]-u[0],2)+Math.pow(f,2)+Math.pow(s,2)+Math.pow(c,2)))}}if(D<=a)return{centroid:l,iteration:v,fit:!0,label:h.map((function(t){return t[4]})),size:t.length};var P=p;p=l,l=P,v++;for(var k=0;k<r;k++){var B=h[k];B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}}return{centroid:p,iteration:v,fit:!1,label:h.map((function(t){return t[4]})),size:t.length}}(function(n){for(var e=[],o=0;o<n.length;o+=4){var a=n.slice(o,o+4),i=a[3],u=a.slice(0,3),f=t.xyz(u),s=r.lab(f);e.push.apply(e,s.concat([i]))}return e}(a.data),i,u)}))}()}();
//# sourceMappingURL=16.js.map